<!-- Editable name, meant to be used with a form -->
<h1 class="pt-3 pl-3"><input type="text" name="name" id="name" value="{{map.name}}"></h1>
<div class="pb-3 pl-3 text-muted"><small>Random names generated by Uzby API</small></div>
{% for hex in map.hexes %}
    <!-- Start a row when the hex has no ML neighbor -->
    {% if hex.ML == None %}
        <!-- The first hex of even rows has no TL neighbor -->
        {% if hex.TL == None %}
            <div class="hex-row">
        {% else %}
            <div class="hex-row even">
        {% endif %}
    {% endif %}
    <div class="hex">
        <!-- The color of each hex depends on what terrain it has.
        Jinja macros maintain DRY code-->
        {% macro color(key) -%}
            {% if key == "F" %}
                style="--bg-color: green;"
            {% elif key == "W" %}
                style="--bg-color: deepskyblue;"
            {% elif key == "R" %}
                style="--bg-color: orange;"
            {% elif key == "B" %}
                style="--bg-color: darkred;"
            {% elif key == "." %}
                style="--bg-color: lightgray;"
            {% endif %}
        {%- endmacro %}
        <div class="top" {{color(hex.terrain)}}></div>
        <div class="middle" {{color(hex.terrain)}}></div>
        <div class="bottom" {{color(hex.terrain)}}></div>
    </div>
    <!-- End a row when the hex has no MR neighbor -->
    {% if hex.MR == None %}
        </div>
        <br>
    {% endif %}
{% endfor %}